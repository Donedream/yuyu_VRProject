# VR领域中的分支：MR与DR核心技术与概念分析
作为个人的思路整理文档，所有描述一切从简

## 一、目前的DR技术概述
DR（Diminished reality）被称为缩减现实，DR技术是从用户的视觉环境中移除或遮盖某些物体或信息，以实现“减少”现实内容的效果
<br>其核心目标是实时修改现实场景，使某些物体对用户不可见

### （一）DR的主要技术原理

#### 1. 图像/视频采集与处理
- 使用摄像头或传感器捕捉真实世界的场景
- 检测用户视野中的对象，并对其及进行标记和分割（通常采用目标检测和语义分割技术）
>标记和分割这一过程目前主要采用的是何种技术手段？是否可以用最新的SAM进行优化？

#### 2. 对象移除
- 利用计算机视觉技术对目标物体进行识别和分离
- 使用纹理补全（Texture Inpainting）或背景重建技术填补移除物体后的空白区域（涉及到掩模模型概念，后文细说）
>大阪大学的那篇论文其实也是一种背景重建技术，不过并不是真的重建了模型，只是生成了带有贴图的六面体掩模；我自己在课上想的方法应该可以归类到背景重建技术部分

#### 3. 场景重建
- 通过深度学习和计算摄影学，重建被移除物体后面的背景，并保证新生成场景的逼真和连续性

#### 4. 实时渲染
- 借助GPU和边缘计算，快速处理场景变化，保证DR在用户视角中的实时性和沉浸感

### （二）目前DR的一些实现方式

#### 1. photoAR+DR：大阪大学论文中索引[37]提及，缺点：实现需要十几个小时乃至几天
>具体技术原理和操作方式以后再研究
#### 2. RGB-D相机技术：大阪大学论文中索引[38]提及，缺点：需要大量点云数据，体积大延迟高，因此反而需要清除部分点云，但是这样又会导致生成的结果不准确
>看上去像是点云重建空间技术来实现DR后的背景补全，以后再研究

### （三）涉及到DR的一些基本概念

#### 1. RGB-D相机：核心在于具备深度传感器
- 深度传感器的基本工作原理有如下几种类型
  - 结构光：通过投射条纹或点阵，然后摄像头捕捉到变形模式来计算距离
  - 时间飞行：通过发送红外光脉冲并测量光脉冲反射回来的时间计算深度信息（SLAM是不是用这种原理实现的？）
  - 立体视觉：通过两个摄像头从不同角度拍摄同一个场景，计算视差来推测物体深度

- 深度图特点：为每一个像素提供一个距离值，表示该像素到相机的距离

- 涉及到我们研究方面的主要应用：AR、物体识别与跟踪、生成3D模型
    >其中物体识别和跟踪部分，用来进行物体检测、分类和跟踪，深度信息让计算机更好地理解物体的形状和位置，这里是不是可以利用SAM进行技术升级？

#### 2. 掩模模型（Mask model）
这里我想用我手绘的一组概念图来表达，我画到了草稿纸上，等以后有时间了再放到这篇文档里。简单来讲掩模就是掩盖了背景图的模型，在大阪那篇论文里的掩模其实是一个带有纹理贴图的六面体空间模型，然后企图用那个模型盖住目标白墙，即掩盖的含义

### （四）目前可以获取的正在研究DR技术的相关信息

#### 1. ZAUBAR公司提出的MR技术的研究方向
- 它里面提到了很多条目，但是我都忘了
- 等之后有时间在这里填上去……

#### 2. 一个网站但是我忘了叫什么，总之里面提到了有关图像分割的技术应用，与DR的主要技术原理第一条对应，不过他们用的是比较早期的模型，所以我觉得SAM应该有应用前景

---
## 二、MR技术概述

### （一）MR应用的开发相关内容

#### 1. MRUK（Mixed Reality Utility Kit）
一个开发工具包，旨在简化和加速混合现实（MR）应用的开发过程，特别是针对微软的Hololens设备
- 空间映射与环境感知：帮助开发者创建可以与环境交互的虚拟物体，比如利用空间映射实现虚拟对象与现实环境的精准对齐
- 手势和语音识别：可以让用户通过简单的手势或语音自然地控制虚拟物体
- 定位和追踪：高精度的设备定位和追踪功能，确保虚拟物体在用户视野中的位置和运动与实际环境一致，这个功能通常与SLAM（Simultaneous Localization and Mapping）技术紧密结合，帮助设备实时构建环境地图并精确定位，后文详细说明
- 多用户协作：不必多言，此部分也涉及到SLAM
- 其他交互界面设计的组件和工具：例如有眼动追踪、手势控制、语音命令等

#### 2. SLAM（Simultaneous Localization and Mapping）
该项技术可以实现精确的空间定位和环境感知，SLAM技术用于构建环境地图并追踪设备在空间中的位置，利用这些信息来实现虚拟对象能够与现实环境对齐
- 空间映射：MR技术中的空间映射功能基本依赖于SLAM技术来构建三维环境模型，确保虚拟物体可以正确显示在现实空间中的合适位置（这里我的理解是构建出来的虚拟空间与现实空间对齐的表现就是虚拟空间的边界、范围、碰撞体积等等参数与现实对齐）
- 定位和追踪：确保虚拟内容与现实世界保持一致（这里我的理解是当设备移动后，映射出来的空间是固定不动的，所以才会出现MR设备里显示的那样，即用户先带着设备扫描，等扫描完后确定就是这个空间啦，那么这个空间就不动了，之后只有在这个空间环境里的设备的移动）
>因为有这个定位功能在，所以可以定位在被映射好了的虚拟空间内的所有设备的移动

### （二）MR应用的本质之我的思考

#### 1. 基本逻辑
有一个现实空间，基于这个现实空间生成了一个对应的虚拟空间，到此为止类似于数字孪生的概念，即参考现实复刻一模一样的一个虚拟空间出来，那么我可以在这个虚拟空间内进行操作来模拟现实中发生同等操作后会出现的情况，这种想法的诞生之初源自建筑行业对现实改造成本巨大的一种优化思路，降低了设计失误的风险，也即在虚拟世界中模拟一遍建成后的效果以此来评估是否这份设计具备可行性或者足够好

在这种情况下，实际上虽然可以更加精准把控设计后的实际效果，但是设计过程本身的成本提高了，因为必须要涉及到BIM模型的构建等等，因此数字孪生本质上并不是特别适合于方案的快速迭代过程，相比之下其更加适合于：（1）在已经明确了设计方案后的施工模拟环节；（2）对已经建成的但是需要长期维护并且维护成本很高的建筑的监测环节
>实际上这种应用场景天然应该由政府去把控，为何？因为对于政府而言其有义务对建筑的整个生命周期进行监管，我这里的意思是：在设计方案确定后，政府委派的施工单位要经过严格的计算和施工，需要有BIM模型的支持；在不断的施工过程中这份BIM模型会趋于完善，当建筑建成后一个与现实房屋对应的BIM数据就被保管了起来

>（1）从独立的个人空间而言：对于业主自身而言其理应有自由地支配房屋内部绝大部分装修的权力，因此对于政府而言其存储的对应的BIM数据只能是包含了其对应的现实空间的最基本的空间结构和样式，而如果这件事情可以做到，那么对于之后其要进行较大的装修工程而言就方便的多，因为接到客户委托的设计师可以根据自身的资格或者权限调用政府存储的BIM数据，有了该房屋的BIN数据，之后的设计和施工就更容易把控，当施工完成后设计团队再将新的BIM模型传输给政府进行数据更新，因为对于政府而言也是更新了政府内部的数据信息，因而政府也应该给设计团队一部分额外的报偿

>（2）从范围更大的片区空间而言：一片小区、一整个建筑区块乃至一整片城区结构的BIM数据如果都被存储起来，那么对于政府对城区进行宏观的道路规划、城区容貌更加便于管理。当某块待建基地明确由某团队承包，那么该团队（包含后期施工团队）需要将自己负责的区块范围的BIM数据传输给政府进行数据更新